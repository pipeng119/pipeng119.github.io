(self.webpackChunkblog=self.webpackChunkblog||[]).push([[690],{4690:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DemoModule:()=>w});var s=n(8583),r=n(9765),o=n(7716);let i=(()=>{class t{constructor(){}cancelStream(...t){t.forEach(t=>{t.next(),t.complete()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t}),t})();var c=n(8002);function a(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>(0,c.U)(function(t,e){return n=>{let s=n;for(let r=0;r<e;r++){const e=null!=s?s[t[r]]:void 0;if(void 0===e)return;s=e}return s}}(t,e))(n)}var u=n(6621),l=n(1841);let p=(()=>{class t{constructor(t){this.http=t,this.serviceData$=this.getData()}getData(){return this.http.get("assets/mock/data.json").pipe((0,u.d)(1))}shareTest(){return this.routeEnd=new r.xQ,this.routeEnd.pipe(a("url"),(0,u.d)(1))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(l.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{transform(t){return 2*t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"transform",type:t,pure:!1}),t})();function f(t,e){if(1&t&&(o.TgZ(0,"li"),o.TgZ(1,"span"),o.ALo(2,"transform"),o._uU(3),o.ALo(4,"transform"),o.qZA(),o._UZ(5,"input",2),o.ALo(6,"transform"),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.ekj("red",o.lcZ(2,4,t.age)>50),o.xp6(2),o.Oqu(o.lcZ(4,6,t.age)),o.xp6(2),o.Q6J("disabled",o.lcZ(6,8,t.age)>50)}}let h=(()=>{class t extends i{constructor(t){super(),this.dataService=t,this.test3$=new r.xQ,this.test4$=new r.xQ}ngOnInit(){this.dataService.serviceData$.subscribe(t=>{console.log("second",t)}),this.shareTest()}ngOnDestroy(){this.cancelStream(this.test3$)}shareTest(){this.routeEnd=new r.xQ,this.routeEnd.pipe(a("url"),(0,u.d)(1)).subscribe(console.log),this.routeEnd.next({data:{},url:"my-path"})}biu(){this.routeEnd.next({data:{},url:"your-path"})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(p))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-second"]],inputs:{data:"data"},features:[o.qOj],decls:6,vars:1,consts:[[3,"click"],[4,"ngFor","ngForOf"],["type","text","placeholder","\u62bd\u5200\u65ad\u6c34\u6c34\u66f4\u6d41",3,"disabled"]],template:function(t,e){1&t&&(o.TgZ(0,"p"),o._uU(1,"second works!"),o.qZA(),o.TgZ(2,"button",0),o.NdJ("click",function(){return e.biu()}),o._uU(3,"biu"),o.qZA(),o.TgZ(4,"ul"),o.YNc(5,f,7,10,"li",1),o.qZA()),2&t&&(o.xp6(5),o.Q6J("ngForOf",null==e.data||null==e.data.data?null:e.data.data.info))},directives:[s.sg],pipes:[d],styles:[".red[_ngcontent-%COMP%]{color:red}"]}),t})();var g=n(6215);function m(t,e){if(1&t&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",t.name," ")}}function b(t,e){1&t&&o.YNc(0,m,2,1,"li",4),2&t&&o.Q6J("ngForOf",e.info)}const Z=function(t){return{info:t}};let x=(()=>{class t extends i{constructor(t){super(),this.dataService=t,this.test1$=new r.xQ,this.test2$=new r.xQ,this.list={id:1,data:{info:[{id:1,name:"zhangsan",age:18,detail:[{id:11}]},{name:"\u674e\u56db",age:20}]}}}ngOnInit(){this.dataService.serviceData$.subscribe(t=>{console.log("first",t)}),this.test1$.subscribe(t=>console.log(t)),this.test2$.subscribe(t=>console.log(t)),this.testReplaySubject(),this.dataService.shareTest().subscribe(console.log)}testReplaySubject(){const t=new g.X(3);t.next(9),t.next(5),t.next(2),t.next(7),t.subscribe(t=>{})}ngOnDestroy(){this.cancelStream(this.test1$,this.test2$)}myEmit(){this.test1$.next("test1"),this.test2$.next("test2")}myDestroy(){this.cancelStream(this.test1$,this.test2$)}changeAge(){this.list.data.info.forEach(t=>{t.age+=2})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(p))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-first"]],features:[o.qOj],decls:14,vars:7,consts:[[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["dataTpl",""],[3,"data"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(o.TgZ(0,"p"),o._uU(1,"first works!"),o.qZA(),o.TgZ(2,"button",0),o.NdJ("click",function(){return e.myEmit()}),o._uU(3,"\u53d1\u5c04\u6d41"),o.qZA(),o.TgZ(4,"button",0),o.NdJ("click",function(){return e.myDestroy()}),o._uU(5,"\u9500\u6bc1\u6d41"),o.qZA(),o.TgZ(6,"ul"),o.GkF(7,1),o.ALo(8,"async"),o.YNc(9,b,1,1,"ng-template",null,2,o.W1O),o.qZA(),o._UZ(11,"app-second",3),o.TgZ(12,"button",0),o.NdJ("click",function(){return e.changeAge()}),o._uU(13,"\u6539\u53d8\u5e74\u9f84"),o.qZA()),2&t){const t=o.MAs(10);o.xp6(7),o.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",o.VKq(5,Z,o.lcZ(8,3,e.data$))),o.xp6(4),o.Q6J("data",e.list)}},directives:[s.tP,h,s.sg],pipes:[s.Ov],styles:[".red[_ngcontent-%COMP%]{color:red}"]}),t})();var y=n(9838);const v=[{path:"",redirectTo:"first"},{path:"first",component:x},{path:"second",component:h}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[y.Bz.forChild(v)],y.Bz]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.ez,T]]}),t})()}}]);