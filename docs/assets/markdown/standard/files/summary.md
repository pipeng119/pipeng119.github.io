# 概要设计

## 1. 文档结构
### &#8195; 1.1 总体设计
#### &#8195; &#8195; 1.1.1 术语定义
#### &#8195; &#8195; 1.1.2 运行环境设计
&#8195; &#8195; &#8195; &#8195;实施环境
&#8195; &#8195; &#8195; &#8195;硬件环境
&#8195; &#8195; &#8195; &#8195;容量规划（可选）
#### &#8195; &#8195; 1.1.3 技术实现架构
#### &#8195; &#8195; 1.1.4 系统性能设计
### &#8195; 1.2 系统设计层次划分
### &#8195; 1.3 模块设计
### &#8195; 1.4 数据库设计
### &#8195; 1.5 接口设计
## 2. 文档模板
> 在大型项目中，这部分工作主要由架构师承担，但在中小型项目的理想过程中，仍然存在这一环节，需要研发人员撰写<font color=red>概要设计文档</font>)或者面向客户称<font color=red>技术文档</font>
> 与详细设计相比，概要设计更佳关注【总体设计】而非具体的方案细节。如果时间与资源优先，可以应用一不要气大而全，而是在概要谁家中描述好总的技术方案与架构

### 1. 文档架构
  
私认为，概要设计应该涵盖以下几个方面
  
![](assets/images/files/summary_01.png)  

### 1.1 总体设计
> 总体设计是概要设计的主要组成部分，它将技术层面描述产品项目的架构全貌。作为之后开发严谨的主要基准。
> 建议总体设计章节中囊括以下几个部分:

### 1.1.1 术语定义
术语(Glossary)又可以认为是软件工程中的统一言语（Ubiquitous Language），统一言语是 DDD 领域驱动开发（Domain-Driven Language）的概念，目的是让业务团队与开发团队之间构建一个技术上与业务上共通的术语集，降低沟通成本。
  
因此需要列出项目中一些技术上与业务上容易混淆的重要概念，避免沟通上的误会。 
  
同时，文档中需要对于产品中涉及到的业务概念的定义进行说明，并且规定其英文名称以规范化实际开发过程中的命名。

### 1.1.2 运行环境设计
即对于产品项目运行时的硬件与系统环境进行描述，主要需要涵盖以下三个部分： 

#### 实施环境
即说明<font color=blue>服务器环境所需要的系统版本，以及客户端的浏览器版本要求，还有数据库的类型与版本要求</font>等。


#### 硬件环境
即说明软件项目所需<font color=blue>底层硬件配置与基础设施环境</font>，如有必要则对于基础设施的架构进行说明。
  
这类设计到硬件层次相关的基础设施设计，建议遵循 Google Cloud Platform 基础设施架构绘图规范：https://docs.google.com/presentation/d/1vjm5YdmOH5LrubFhHf1vlqW2O9Z2UqdWA8biN3e8K5U/edit#slide=id.p39
  
下图是谷歌云平台的移动游戏服务的基础设施架构图示例：
![](assets/images/files/summary_02.png)  

#### 容量规划(可选)
对于不同用户体量场景的硬件资源规划，即分级论述，如需要多少台服务器，每台服务器的内存与 CPU 是多少，有没有额外的硬件配置要求等等。（一般由架构师规划，如果团队没有配置架构师则由研发人员负责）
  
下图是 EMR 的硬件容量规划示例

![](assets/images/files/summary_03.png)  

### 1.1.3 技术实现架构
技术实现架构即描述整体的软件项目的技术实现方案。
  
以常见的公司微服务应用体系来说，可以绘制微服务架构图明确微服务模块的划分、各个微服务的领域职责以及对应实现微服务采用的技术栈。

### 1.1.4 系统性能设计（可选）
一般针对对于性能有要求的服务场景（包括前端与后端），首先需要与产品确定在给定硬件条件下对应场景的性能要求（比如 XXX 场景需要支持多少并发量，且响应时间要求在多少秒内），进一步地，基于该性能要求设计技术方案    

### 1.2 系统设计层次划分（可选）

除了技术架构之外，一些中大型项目解决方案需要进行系统层次划分的说明，按照 C4 软件架构模型（https://www.infoq.cn/article/C4-architecture-model）即对应 Context 与 Container 宏观层次（相对应地，技术架构接近 Components 层次）

  
![](assets/images/files/summary_04.png)  
  
相对于来说，可以针对解决方案的功能模块与技术分层进行画图说明（“总体设计图”），如图所示：
  
![](assets/images/files/summary_05.png) 

### 1.3 模块设计
在基于【系统设计层次划分】对项目产品进行模块划分后，可以对于每个模块进行业务流程与技术方案的说明。
  
一般这部分内容是在【详细设计】中配合接口设计进行细化具体描述，在概要设计中可以做一定的简化。

### 1.4 数据库设计
在概要设计中，比较重要的部分是对数据库 Schema 的设计，即定义数据库表的类型与结构
  
![](assets/images/files/summary_06.png) 

### 1.5 接口设计
接口设计即描述具体服务的接口实现（入参/返回类型与格式），在详细设计中是非常重要的环节，在概要设计中可以做一定的简化。
  
![](assets/images/files/summary_07.png) 



