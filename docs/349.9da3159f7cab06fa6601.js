(self.webpackChunkblog=self.webpackChunkblog||[]).push([[349],{6349:(t,e,s)=>{"use strict";s.r(e),s.d(e,{DemoModule:()=>w});var n=s(8583),r=s(9765),c=s(7716);let o=(()=>{class t{constructor(){}cancelStream(...t){t.forEach(t=>{t.next(),t.complete()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.lG2({type:t}),t})();var i=s(8002);function u(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return s=>(0,i.U)(function(t,e){return s=>{let n=s;for(let r=0;r<e;r++){const e=null!=n?n[t[r]]:void 0;if(void 0===e)return;n=e}return n}}(t,e))(s)}var a=s(6621),l=s(1841);let p=(()=>{class t{constructor(t){this.http=t,this.serviceData$=this.getData()}getData(){return this.http.get("assets/mock/data.json").pipe((0,a.d)(1))}shareTest(){return this.routeEnd=new r.xQ,this.routeEnd.pipe(u("url"),(0,a.d)(1))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(l.eN))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t extends o{constructor(t){super(),this.dataService=t,this.test3$=new r.xQ,this.test4$=new r.xQ}ngOnInit(){this.dataService.serviceData$.subscribe(t=>{console.log("second",t)}),this.shareTest()}ngOnDestroy(){this.cancelStream(this.test3$)}shareTest(){this.routeEnd=new r.xQ,this.routeEnd.pipe(u("url"),(0,a.d)(1)).subscribe(console.log),this.routeEnd.next({data:{},url:"my-path"})}biu(){this.routeEnd.next({data:{},url:"your-path"})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(p))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-second"]],features:[c.qOj],decls:4,vars:0,consts:[[3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"second works!"),c.qZA(),c.TgZ(2,"button",0),c.NdJ("click",function(){return e.biu()}),c._uU(3,"biu"),c.qZA())},styles:[""]}),t})();var f=s(6215);function d(t,e){if(1&t&&(c.TgZ(0,"li"),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.name," ")}}function m(t,e){1&t&&c.YNc(0,d,2,1,"li",3),2&t&&c.Q6J("ngForOf",e.info)}const g=function(t){return{info:t}};let b=(()=>{class t extends o{constructor(t){super(),this.dataService=t,this.test1$=new r.xQ,this.test2$=new r.xQ}ngOnInit(){this.dataService.serviceData$.subscribe(t=>{console.log("first",t)}),this.test1$.subscribe(t=>console.log(t)),this.test2$.subscribe(t=>console.log(t)),this.testReplaySubject(),this.dataService.shareTest().subscribe(console.log)}testReplaySubject(){const t=new f.X(3);t.next(9),t.next(5),t.next(2),t.next(7),t.subscribe(t=>{})}ngOnDestroy(){this.cancelStream(this.test1$,this.test2$)}myEmit(){this.test1$.next("test1"),this.test2$.next("test2")}myDestroy(){this.cancelStream(this.test1$,this.test2$)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(p))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-first"]],features:[c.qOj],decls:11,vars:6,consts:[[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["dataTpl",""],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(c.TgZ(0,"p"),c._uU(1,"first works!"),c.qZA(),c.TgZ(2,"button",0),c.NdJ("click",function(){return e.myEmit()}),c._uU(3,"\u53d1\u5c04\u6d41"),c.qZA(),c.TgZ(4,"button",0),c.NdJ("click",function(){return e.myDestroy()}),c._uU(5,"\u9500\u6bc1\u6d41"),c.qZA(),c.TgZ(6,"ul"),c.GkF(7,1),c.ALo(8,"async"),c.YNc(9,m,1,1,"ng-template",null,2,c.W1O),c.qZA()),2&t){const t=c.MAs(10);c.xp6(7),c.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",c.VKq(4,g,c.lcZ(8,2,e.data$)))}},directives:[n.tP,n.sg],pipes:[n.Ov],styles:[""]}),t})();var y=s(9838);const v=[{path:"",redirectTo:"first"},{path:"first",component:b},{path:"second",component:h}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[y.Bz.forChild(v)],y.Bz]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[n.ez,x]]}),t})()}}]);